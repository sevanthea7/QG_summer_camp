## MAS

#### 1.前提条件

多智能体系统在线协议下可实现一致性的条件:

1) 向拓扑图平衡且强连通的条件下  -> 现实中通讯易受影响被破坏、通讯时滞

2) 固定或切换通讯拓扑图中包含有生成树 -> 充要条件：包含一颗生成树

#### 2.发展方向

-  设计有效的一致性算法及稳定性证明、 通讯网络的一般化、 智能体模型的一般化、 收敛速度分析以及包括编队控制、 蜂拥、聚集、 姿态控制等一致性的一些应用。

通讯拓扑图存在一个全局可达点，那么多智能体的一致性只与输入时滞有关，而与通讯时滞无关

#### 3.种类

- <u>一阶</u>多智能体系统  -> $\dot{x}_i(t)$ 表示**状态**，$u_i(t)$ 表示控制输入

- 更符合现实需求：<u>二阶</u>多智能体系统  ->   $\dot{x}_i(t)$ 表示**位移**，$v_i(t)$表示**速度**，$u_i(t)$ 表示控制输入

- 高阶多智能体系统

#### 4.数学方法

（1) 拉普拉斯矩阵L

$L = D - A $

$D_i$ 是节点 $i$ 的入度矩阵

(2) 虚拟领导控制

(3) 稳定性分析：特征方程&特征根



## DP

- 状态更新规则：$\theta(k+1) = \theta(k) - hLx(k) + S\eta(k)$
- 消息生成规则：$x(k) = \theta(k) + \eta(k)$
- 噪声模型：符合拉普拉斯分布，$\eta(k)∼Lap(b_i(k))$，其中 $b_i(k)=c_iq_i^k$，$c_i=\delta q_i/\epsilon_i\left(q_i-|s_i-1|\right)$

#### 1. 基本概念

- 为了防止可以通过数据集中的单个数据结合其他前提推测出个体的具体信息导致隐私泄露，引入了某种噪声使数据集中部分数据不真实，这些噪声干扰过的数据在海量数据集中的对数据集的结果带来的改变极小，不会带来明显影响。
- 只使用大数据集，在小数据集中的干扰会带来较大改变，造成误差。
- 举例：100个病人中有10个新冠患者，查99个病人的情况得知其中有9个新冠患者，这样就可以推理出剩下的一个病人是新冠患者，造成了隐私泄露。加入噪声干扰后（差分隐私），100个病人中患新冠的比例为9.8%，查99个病人中患新冠的比例为9.81%，此时无法确定剩下的一个人是否是患者，解决了上述的隐私泄露问题。

#### 2. 定义

$$
e^{-\epsilon} \le \frac{Pr[M(D)\in S]}{Pr[M(D')\in S]} \le e^{\epsilon}
$$

- $M$：随机算法
- $Pr[...]$：概率
- $P_M$：$M$ 可以输出的所有值的集合
- 对于任意相邻的数据集 $D$ 和 $D'$ （看作处理前后的数据集），在$P_M$ 中取任意子集 $S$
- $\epsilon$ 越小，隐私保密度越高（确定的范围越小，输出结果越不可分）；反之越大。$\epsilon = 0$ 时，输出分布重合，输出结果不可分。

#### 3. 实现

- 选择合适的噪声机制：参考数据集对噪声的敏感度
  $$
  GS_f=max_{D,D'}||f(D)-f(D')||
  $$

  - 全局敏感度：对于数据集 $D$ 和它相邻的数据集 $D’$, 通过函数得出整个数据集的整体情况
  - 局部敏感度：人为给定数据集 $D$，通常比全局敏感度小，数据可用性相对高

- 常用噪声机制

  - 拉普拉斯机制
  - 高斯机制
  - 指数机制

#### 4. 特性

- 串联原理
  - 对于**同一个**数据集，使用一系列的组合差分隐私保护算法（$M_1, M_2,...,M_n$），计算隐私预算（$\epsilon_1, \epsilon_2, ..., \epsilon_n$），得出这些预算的总和
- 并联原理
  - 对于**多个不同的**数据集，使用一系列的组合差分隐私保护算法，计算隐私预算，得出这些预算中的最大值（$max(\epsilon_1,\epsilon_2,...,\epsilon_i)$）





## CAV

#### 1.概念

一种基于反馈的、可以在不同通信网络拓扑结构下控制自动驾驶车辆形成排结构的协议，并通过数学模型验证了该协议的稳定性与一致性，通过实验验证了在该协议下智能体的纵向与横向的间隔和速度均具有稳定性且可以最终达到一致状态。

- 数学理论推导
  - 拉萨尔不变性原理 & Lipschitz函数：验证在时间趋于无限时，所求值趋于0
  - Lyapunov函数：利用其定义验证
- 数值实验验证方法：在给定的模拟条件下验证不同网络拓扑结构下编队的情况，观察其是否能达到一致状态及其达成效率

#### 2.核心公式 

$$
\begin{cases}
\dot{x_i}(t) = v_i(t)\\
\dot{v_i}(t)= \dot{v}_L(t) - \sum^n_{j=1}a_{ij}[(x_i(t)-x_j(t)-r_{ij})+\beta (v_i(t)-v_j(t))]\\
-k_i[(x_i(t)-x_L(t)-r_{i})+ \gamma (v_i(t)-v_L(t))]
\end{cases}
$$

- 首行公式表示智能体i在t时刻位置的变化率等于t时刻的速度。

- 对第二行公式，速度变化率可以拆解成三个部分：

（1）$v_L(t)$：车辆速度的变化率为目标速度（即在最后时刻的速度，为与领导者保持一致，故目标速度为领导者速度$v_L(t)$

（2）$- \sum^n_{j=1}a_{ij}[(x_i(t)-x_j(t)-r_{ij})+\beta (v_i(t)-v_j(t))$ ：智能体i受智能体j的影响的总和，智能体i调整自身状态值不断与周围邻居智能体趋于一致。

a) $a_{ij}$表示位置差的权重，衡量两个智能体间连接的影响关系，当二者不联通时值为0，即当前关系不参与考虑；

b) $r_{ij}$为与智能体j之间的期望的间距，这一部分计算了两智能体之间的差值与理想差值之间的间隔；

c) β为人为决定的参数（决定速度差的影响，作为权重）。

（3）$-k_i[(x_i(t)-x_L(t)-r_{i})+ \gamma (v_i(t)-v_L(t))]$：智能体i受其领导者的影响的总和，智能体i调整自身状态值不断与领导者趋于一致

a) $k_i$表示位置差的权重，衡量智能体i与领导者之间连接的影响关系，当二者不联通时值为0，即当前关系不参与考虑；

b) $r_i$为智能体i与领导者之间的位置偏差向量，这一部分计算了与领导者之间差值与期望差值之间的间隔。

c) γ为人为决定的参数（决定速度差的影响，作为权重）。

计算时微分可以理解为学习率$\alpha$，即学习率$\alpha$充当微分中的dt，由此可得：
$$
\begin{cases}
v = v_0 + \alpha * \dot{v}_0\\
x = x_0 + \alpha * v
\end{cases}
$$

#### 3.总结

- 一种基于反馈的控制协议，使独立的智能体可以在保证了系统的稳定性与一致性的前提下，在不同的通信网络拓扑结构下随时间迭代最终形成排结构。
- 网络拓扑结构越简单，收敛到目标状态的速度越快。
- 需要基于完整的网络拓扑结构，脱离连接的智能体无法依靠邻居进行调整，继续加入结合能够控制通信断开的智能体的协议可以在现实场景中有更好的应用。